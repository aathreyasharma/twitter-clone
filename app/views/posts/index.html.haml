#posts.transitions-enabled
  .row.mr-2
    .col-sm-12
      - @posts.each do |post|
        .post-box.mt-3.mx-auto
          .panel.panel-default
            %span
              .panel-header
                %strong= post.user.email
                %span.ml-5
                  = link_to 'Show', post_path(post)
                .float-right
                  %span.likes-count
                    = post.favoritors.count.positive? ? post.favoritors.count : nil
                  - unless post.favorited_by?(current_user)
                    = link_to like_post_likes_path(post.id), remote: true do
                      %i.fa.fa-thumbs-up.fa-fa-2x
                  - else
                    = link_to unlike_post_likes_path(post.id), remote: true do
                      %i.fa.fa-thumbs-up.fa-fa-2x.liked
                %hr/
              .panel-body
                .row
                  .col-md-12
                    %blockquote= post.body
                    - if post.media.attached?
                      = render 'shared/render_media', object: post
                .panel-footer.mt-5
                  - if post.comments.present?
                    %h5
                      Comments
                    - post.comments.order(created_at: :desc).each do |comment|
                      = render 'shared/render_comment', object: comment
          .new-comment
            = render 'shared/comment', object: post

        %hr
  .mt-2
    = page_entries_info @posts, entry_name: 'post'
    .float-right.mr-4
      = paginate @posts
