#posts.transitions-enabled
  - @posts.each do |post|
    .row.mr-2
      .col-sm-12
        = link_to post_path(post) do
          .post-box
            .panel.panel-default
              .panel-header
                %strong= post.user.email
                .float-right
                  %span.likes-count
                    = post.favoritors.count.positive? ? post.favoritors.count : nil
                  - unless post.favorited_by?(current_user)
                    = link_to like_post_likes_path(post.id), remote: true do
                      %i.fa.fa-thumbs-up.fa-fa-2x
                  - else
                    = link_to unlike_post_likes_path(post.id), remote: true do
                      %i.fa.fa-thumbs-up.fa-fa-2x.liked
                %hr/
              .panel-body
                %blockquote= post.body
                %br/
                - if post.media.attached?
                  = render 'shared/render_media', object: post
                .panel-footer.mt-2
                  - if post.comments.present?
                    %h4
                      Comments
                    - post.comments.order(created_at: :desc).each do |comment|
                      = render 'shared/render_comment', object: comment
            .new-comment
              = render 'shared/comment', object: post

          %hr
